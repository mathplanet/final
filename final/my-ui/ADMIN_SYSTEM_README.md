# 관리자 승인 시스템 (Admin Approval System)

## 개요
사용자가 직접 계정을 생성할 수 없고, 회원가입 신청 후 관리자의 승인을 받아야만 로그인할 수 있는 시스템입니다.

## 시스템 구조

### 1. 사용자 상태 (User Status)
- **pending**: 승인 대기 중 (회원가입 직후 상태)
- **approved**: 승인됨 (로그인 가능)
- **rejected**: 거부됨 (로그인 불가)

### 2. 사용자 역할 (User Role)
- **user**: 일반 사용자
- **admin**: 관리자 (사용자 승인/거부 권한)

## 주요 파일

### AuthContext.js
- 사용자 인증 및 관리 로직
- 회원가입 시 자동으로 `status: "pending"` 설정
- 로그인 시 승인 상태 확인
- 관리자 기능: `approveUser()`, `rejectUser()`, `getPendingUsers()`, `getAllUsers()`

### AdminPage.js
- 관리자 전용 페이지
- 두 개의 탭:
  - **승인 대기**: 승인 대기 중인 사용자 목록 (승인/거부 버튼)
  - **전체 사용자**: 모든 사용자 목록 (상태 확인)

### AdminRoute.js
- 관리자 권한이 필요한 페이지 보호
- 관리자가 아닌 경우 "관리자 권한이 필요합니다" 모달 표시 후 홈으로 리다이렉트

### LoginPage.js
- 회원가입 시 승인 대기 안내 메시지 표시
- 로그인 시 승인 상태별 에러 메시지:
  - `pendingApproval`: "회원가입 승인 대기 중입니다."
  - `rejected`: "회원가입이 거부되었습니다."

### Navbar.js
- 관리자로 로그인한 경우에만 "Admin" 메뉴 표시

## 초기 관리자 계정

애플리케이션 첫 실행 시 자동으로 관리자 계정이 생성됩니다:

```
Username: admin
Password: admin123
Email: admin@assemble.com
```

⚠️ **보안 참고**: 실제 운영 환경에서는 비밀번호를 변경하고 암호화를 적용해야 합니다.

## 사용 흐름

### 일반 사용자
1. 회원가입 버튼 클릭
2. 사용자 정보 입력 (username, email, password)
3. "회원가입 신청이 완료되었습니다! 관리자 승인 후 로그인이 가능합니다." 메시지 확인
4. 관리자 승인 대기
5. 승인 후 로그인 가능

### 관리자
1. 관리자 계정으로 로그인 (admin / admin123)
2. 네비게이션 바에서 "Admin" 메뉴 클릭
3. "승인 대기" 탭에서 대기 중인 사용자 확인
4. 각 사용자에 대해 "승인" 또는 "거부" 선택
5. "전체 사용자" 탭에서 모든 사용자 상태 확인 가능

## 라우트 구조

```
/ - 홈 (Hero)
/login - 로그인/회원가입
/projects - My Project (로그인 필요)
/resources - Resources (공개)
/library - Library (공개)
/about - About Us (공개)
/admin - 관리자 페이지 (관리자 권한 필요)
```

## 데이터 저장

현재 LocalStorage를 사용하여 데이터를 저장합니다:
- `currentUser`: 현재 로그인한 사용자 정보
- `registeredUsers`: 전체 회원가입 사용자 목록

⚠️ **실제 운영 환경에서는 백엔드 서버와 데이터베이스를 사용해야 합니다.**

## 보안 개선 사항 (향후 적용 필요)

1. **비밀번호 암호화**: bcrypt 등을 사용한 비밀번호 해싱
2. **JWT 토큰**: 세션 관리를 위한 JWT 인증
3. **HTTPS**: 보안 통신
4. **입력 검증**: 서버 사이드 입력 검증 및 sanitization
5. **Rate Limiting**: 무차별 대입 공격 방지
6. **이메일 인증**: 회원가입 시 이메일 확인
7. **감사 로그**: 관리자 작업 기록

## 테스트 방법

1. 새 사용자로 회원가입 시도
2. 승인 대기 메시지 확인
3. admin/admin123으로 로그인
4. Admin 페이지에서 사용자 승인
5. 로그아웃 후 새 사용자로 로그인 시도
6. 정상 로그인 확인
